<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>SOLBonds - Complete Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .hidden { display: none !important; }
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .gradient-bg {
            background: linear-gradient(-45deg, #f59e0b, #ec4899, #8b5cf6, #3b82f6);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
        }
        .tab-active {
            background: linear-gradient(to right, #ec4899, #8b5cf6);
            border-bottom: 3px solid #ec4899;
        }
    </style>
</head>
<body class="bg-gray-900 text-white">
    
    <!-- Navigation -->
    <nav class="bg-gray-800 border-b border-gray-700 px-6 py-4">
        <div class="max-w-7xl mx-auto">
            <div class="flex justify-between items-center mb-4">
                <div class="text-2xl font-bold">‚òÄÔ∏è SOLBonds</div>
                <button id="walletBtn" class="bg-purple-600 hover:bg-purple-700 px-6 py-2 rounded-full font-bold transition">
                    Connect Wallet
                </button>
                <div id="walletInfo" class="hidden bg-green-600 px-6 py-2 rounded-full">
                    Connected: 8x7k...mN3p
                </div>
            </div>
            
            <!-- Tabs -->
            <div class="flex gap-2">
                <button onclick="showTab('landing')" id="tab-landing" class="tab-active px-6 py-2 rounded-t-lg font-bold">
                    üè† Home
                </button>
                <button onclick="showTab('app')" id="tab-app" class="px-6 py-2 rounded-t-lg font-bold hover:bg-gray-700 transition">
                    üéÆ App
                </button>
                <button onclick="showTab('economics')" id="tab-economics" class="px-6 py-2 rounded-t-lg font-bold hover:bg-gray-700 transition">
                    üìä Tokenomics
                </button>
            </div>
        </div>
    </nav>

    <div class="max-w-7xl mx-auto">

        <!-- TAB 1: LANDING PAGE -->
        <div id="content-landing">
            <div class="gradient-bg min-h-screen flex flex-col items-center justify-center px-4">
                <div class="text-center max-w-4xl">
                    <div class="text-8xl mb-6">‚òÄÔ∏èüíï</div>
                    <h1 class="text-7xl font-bold mb-6">SOLBonds</h1>
                    <p class="text-3xl mb-4">NFT Matchmaking Meets Real DeFi Yield</p>
                    <p class="text-xl mb-8 text-gray-200">Match based on compatibility. Earn sustainable rewards. Built on Solana.</p>
                    
                    <button onclick="showTab('app')" class="bg-white text-purple-600 hover:bg-gray-100 font-bold py-4 px-12 rounded-full text-xl transition transform hover:scale-105">
                        üöÄ Launch App
                    </button>

                    <div class="grid grid-cols-3 gap-8 max-w-2xl mx-auto mt-12">
                        <div class="bg-white/10 backdrop-blur rounded-lg p-4">
                            <div class="text-3xl font-bold text-pink-400">8% APY</div>
                            <div class="text-sm text-gray-300">Real Vault Yield</div>
                        </div>
                        <div class="bg-white/10 backdrop-blur rounded-lg p-4">
                            <div class="text-3xl font-bold text-green-400">$55/day</div>
                            <div class="text-sm text-gray-300">Daily Payouts</div>
                        </div>
                        <div class="bg-white/10 backdrop-blur rounded-lg p-4">
                            <div class="text-3xl font-bold text-blue-400">Sustainable</div>
                            <div class="text-sm text-gray-300">No Ponzi Math</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 2: APP -->
        <div id="content-app" class="hidden px-4 py-8">
            
            <!-- App Welcome -->
            <div id="app-welcome">
                <div class="text-center py-20">
                    <h2 class="text-5xl font-bold mb-6">Ready to Find Your Match?</h2>
                    <p class="text-xl text-gray-400 mb-8">Create your profile to get started</p>
                    <button onclick="showAppScreen('profile')" class="bg-gradient-to-r from-pink-600 to-purple-600 hover:opacity-90 font-bold py-4 px-12 rounded-full text-xl">
                        Create Profile
                    </button>
                </div>
            </div>

            <!-- Profile Creation -->
            <div id="app-profile" class="hidden">
                <div class="max-w-2xl mx-auto">
                    <h2 class="text-4xl font-bold mb-8 text-center">Create Your Profile</h2>
                    
                    <div class="bg-gray-800 rounded-2xl p-8 space-y-6">
                        <div>
                            <label class="block text-lg font-bold mb-2">Username</label>
                            <input type="text" id="username" placeholder="Enter username" 
                                class="w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white">
                        </div>

                        <div>
                            <label class="block text-lg font-bold mb-2">‚ößÔ∏è Gender</label>
                            <div class="grid grid-cols-2 gap-4">
                                <button class="gender-btn bg-gray-700 border-2 border-gray-600 rounded-lg p-4 hover:border-purple-500 transition" data-value="0">
                                    <div class="text-4xl mb-2">‚ôÇÔ∏è</div>
                                    <div>Masculine</div>
                                </button>
                                <button class="gender-btn bg-gray-700 border-2 border-gray-600 rounded-lg p-4 hover:border-purple-500 transition" data-value="1">
                                    <div class="text-4xl mb-2">‚ôÄÔ∏è</div>
                                    <div>Feminine</div>
                                </button>
                            </div>
                        </div>

                        <div>
                            <label class="block text-lg font-bold mb-2">üîÆ Zodiac</label>
                            <select id="zodiac" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white">
                                <option value="">Select...</option>
                                <option value="1">‚ôà Aries (Fire)</option>
                                <option value="2">‚ôâ Taurus (Earth)</option>
                                <option value="3">‚ôä Gemini (Air)</option>
                                <option value="4">‚ôã Cancer (Water)</option>
                                <option value="5">‚ôå Leo (Fire)</option>
                                <option value="6">‚ôç Virgo (Earth)</option>
                                <option value="7">‚ôé Libra (Air)</option>
                                <option value="8">‚ôè Scorpio (Water)</option>
                                <option value="9">‚ôê Sagittarius (Fire)</option>
                                <option value="10">‚ôë Capricorn (Earth)</option>
                                <option value="11">‚ôí Aquarius (Air)</option>
                                <option value="12">‚ôì Pisces (Water)</option>
                            </select>
                        </div>

                        <div>
                            <label class="block text-lg font-bold mb-2">üêæ Pet</label>
                            <div class="grid grid-cols-3 gap-4">
                                <button class="pet-btn bg-gray-700 border-2 border-gray-600 rounded-lg p-4 hover:border-purple-500 transition" data-value="0">
                                    <div class="text-4xl mb-2">üêï</div>
                                    <div>Dog</div>
                                </button>
                                <button class="pet-btn bg-gray-700 border-2 border-gray-600 rounded-lg p-4 hover:border-purple-500 transition" data-value="1">
                                    <div class="text-4xl mb-2">üêà</div>
                                    <div>Cat</div>
                                </button>
                                <button class="pet-btn bg-gray-700 border-2 border-gray-600 rounded-lg p-4 hover:border-purple-500 transition" data-value="2">
                                    <div class="text-4xl mb-2">ü¶é</div>
                                    <div>Other</div>
                                </button>
                            </div>
                        </div>

                        <div>
                            <label class="block text-lg font-bold mb-2">üé≤ Risk: <span id="riskValue" class="text-purple-400">5</span>/10</label>
                            <input type="range" id="risk" min="1" max="10" value="5" class="w-full h-3 bg-gray-700 rounded-lg">
                        </div>

                        <button onclick="createProfile()" class="w-full bg-gradient-to-r from-pink-600 to-purple-600 hover:opacity-90 font-bold py-4 rounded-lg text-xl transition">
                            Create Profile (5 USDC)
                        </button>
                    </div>
                </div>
            </div>

            <!-- Matching -->
            <div id="app-match" class="hidden">
                <h2 class="text-4xl font-bold mb-8 text-center">Your Match</h2>
                
                <div class="bg-gradient-to-br from-pink-600 to-purple-600 rounded-2xl p-8 mb-8 text-center">
                    <div class="text-7xl font-bold mb-4" id="compatScore">85%</div>
                    <div class="text-2xl mb-6">Compatibility Match</div>
                    <div id="breakdown" class="grid grid-cols-4 gap-4 max-w-3xl mx-auto text-sm"></div>
                </div>

                <div class="flex gap-4 justify-center">
                    <button onclick="rejectMatch()" class="bg-red-600 hover:bg-red-700 font-bold py-4 px-8 rounded-full transition">
                        ‚ùå Pass
                    </button>
                    <button onclick="findNewMatch()" class="bg-gray-600 hover:bg-gray-700 font-bold py-4 px-8 rounded-full transition">
                        üîÑ Next
                    </button>
                    <button onclick="acceptMatch()" class="bg-green-600 hover:bg-green-700 font-bold py-4 px-8 rounded-full transition">
                        ‚úÖ Accept & Bond
                    </button>
                </div>
            </div>

            <!-- Bond Dashboard -->
            <div id="app-bond" class="hidden">
                <h2 class="text-4xl font-bold mb-8 text-center">üíï Your Active Bond</h2>
                
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="bg-gradient-to-br from-pink-600 to-pink-700 rounded-2xl p-8">
                        <h3 class="text-2xl font-bold mb-6">Bond Details</h3>
                        <div class="space-y-4">
                            <div class="flex justify-between">
                                <span>Partner:</span>
                                <span class="font-bold">CryptoLover_42</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Duration:</span>
                                <span class="font-bold text-2xl">45 days</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Compatibility:</span>
                                <span class="font-bold text-2xl" id="bondCompat">85%</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Multiplier:</span>
                                <span class="font-bold text-3xl text-yellow-300" id="bondMult">1.5x</span>
                            </div>
                        </div>
                    </div>

                    <div class="bg-gradient-to-br from-green-600 to-green-700 rounded-2xl p-8">
                        <h3 class="text-2xl font-bold mb-6">Earnings</h3>
                        <div class="space-y-4">
                            <div class="flex justify-between">
                                <span>Current Tier:</span>
                                <span class="font-bold text-2xl">ü•á Gold</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Daily Rate:</span>
                                <span class="font-bold text-2xl" id="dailyRate">$10.49</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Total Earned:</span>
                                <span class="font-bold text-3xl text-yellow-300" id="totalEarned">$471.00</span>
                            </div>
                            <button class="w-full bg-yellow-400 hover:bg-yellow-300 text-gray-900 font-bold py-4 rounded-lg mt-4 transition">
                                Claim Rewards
                            </button>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <!-- TAB 3: TOKENOMICS -->
        <div id="content-economics" class="hidden px-4 py-8">
            <h1 class="text-5xl font-bold text-center mb-4">üí∞ Sustainable Tokenomics</h1>
            <p class="text-center text-gray-400 mb-12 text-xl">Real yield. Real economics. No ponzi.</p>

            <!-- Stats -->
            <div class="grid md:grid-cols-4 gap-6 mb-8">
                <div class="bg-gradient-to-br from-green-600 to-green-700 rounded-xl p-6 border-2 border-green-400">
                    <div class="text-sm text-green-200 mb-2">Total Vault</div>
                    <div class="text-4xl font-bold">$50,000</div>
                    <div class="text-xs text-green-200 mt-2">8% APY</div>
                </div>
                <div class="bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl p-6 border-2 border-blue-400">
                    <div class="text-sm text-blue-200 mb-2">Daily Yield</div>
                    <div class="text-4xl font-bold">$10.96</div>
                    <div class="text-xs text-blue-200 mt-2">From protocols</div>
                </div>
                <div class="bg-gradient-to-br from-purple-600 to-purple-700 rounded-xl p-6 border-2 border-purple-400">
                    <div class="text-sm text-purple-200 mb-2">User Fees</div>
                    <div class="text-4xl font-bold">$45.00</div>
                    <div class="text-xs text-purple-200 mt-2">Bets + mints</div>
                </div>
                <div class="bg-gradient-to-br from-pink-600 to-pink-700 rounded-xl p-6 border-2 border-pink-400">
                    <div class="text-sm text-pink-200 mb-2">Daily Payout</div>
                    <div class="text-4xl font-bold">$55.96</div>
                    <div class="text-xs text-pink-200 mt-2">Sustainable</div>
                </div>
            </div>

            <!-- Formula -->
            <div class="bg-gradient-to-r from-green-900 to-green-800 rounded-2xl p-8 border-2 border-green-500 text-center mb-8">
                <div class="text-3xl font-bold mb-4">The Sustainable Formula</div>
                <div class="text-xl font-mono mb-4">
                    Earnings = <span class="text-green-400">(Real Yield + Fees)</span> √∑ Pairs √ó <span class="text-yellow-400">Time</span> √ó <span class="text-pink-400">Compatibility</span>
                </div>
                <p class="text-green-200">Only distribute what actually comes in. No printing money.</p>
            </div>

            <!-- Revenue Sources -->
            <div class="bg-gray-800 rounded-2xl p-8 border-2 border-gray-700">
                <h2 class="text-3xl font-bold mb-6">üìä Revenue Sources</h2>
                <div class="space-y-4">
                    <div class="flex justify-between items-center bg-gray-700 rounded-lg p-4">
                        <span>üå± DeFi Vault Yield (8% APY)</span>
                        <span class="font-bold text-green-400 text-xl">$10.96/day</span>
                    </div>
                    <div class="flex justify-between items-center bg-gray-700 rounded-lg p-4">
                        <span>üé∞ Discovery Bets</span>
                        <span class="font-bold text-green-400 text-xl">$15/day</span>
                    </div>
                    <div class="flex justify-between items-center bg-gray-700 rounded-lg p-4">
                        <span>üíï Mint Fees (5 USDC)</span>
                        <span class="font-bold text-green-400 text-xl">$15/day</span>
                    </div>
                    <div class="flex justify-between items-center bg-gray-700 rounded-lg p-4">
                        <span>üíî Breakup Penalties</span>
                        <span class="font-bold text-green-400 text-xl">$10/day</span>
                    </div>
                    <div class="flex justify-between items-center bg-gray-700 rounded-lg p-4">
                        <span>üéÅ Boost Stakes</span>
                        <span class="font-bold text-green-400 text-xl">$5/day</span>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        // Global state
        let appState = {
            selectedGender: null,
            selectedPet: null,
            profile: null,
            compatibility: 85
        };

        // Tab switching
        function showTab(tab) {
            // Hide all content
            document.getElementById('content-landing').classList.add('hidden');
            document.getElementById('content-app').classList.add('hidden');
            document.getElementById('content-economics').classList.add('hidden');
            
            // Show selected content
            document.getElementById('content-' + tab).classList.remove('hidden');
            
            // Update tab buttons
            document.querySelectorAll('[id^="tab-"]').forEach(btn => {
                btn.classList.remove('tab-active');
                btn.classList.add('hover:bg-gray-700');
            });
            document.getElementById('tab-' + tab).classList.add('tab-active');
            document.getElementById('tab-' + tab).classList.remove('hover:bg-gray-700');
        }

        // App screen switching
        function showAppScreen(screen) {
            document.getElementById('app-welcome').classList.add('hidden');
            document.getElementById('app-profile').classList.add('hidden');
            document.getElementById('app-match').classList.add('hidden');
            document.getElementById('app-bond').classList.add('hidden');
            document.getElementById('app-' + screen).classList.remove('hidden');
        }

        // Wallet connect
        document.getElementById('walletBtn').addEventListener('click', function() {
            this.classList.add('hidden');
            document.getElementById('walletInfo').classList.remove('hidden');
        });

        // Gender selection
        document.querySelectorAll('.gender-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.gender-btn').forEach(b => {
                    b.classList.remove('border-purple-500', 'bg-purple-600');
                });
                this.classList.add('border-purple-500', 'bg-purple-600');
                appState.selectedGender = parseInt(this.dataset.value);
            });
        });

        // Pet selection
        document.querySelectorAll('.pet-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.pet-btn').forEach(b => {
                    b.classList.remove('border-purple-500', 'bg-purple-600');
                });
                this.classList.add('border-purple-500', 'bg-purple-600');
                appState.selectedPet = parseInt(this.dataset.value);
            });
        });

        // Risk slider
        document.getElementById('risk').addEventListener('input', function(e) {
            document.getElementById('riskValue').textContent = e.target.value;
        });

        // Create profile
        function createProfile() {
            const username = document.getElementById('username').value;
            const zodiac = document.getElementById('zodiac').value;
            const risk = parseInt(document.getElementById('risk').value);

            if (!username || !zodiac || appState.selectedGender === null || appState.selectedPet === null) {
                alert('Please fill all fields!');
                return;
            }

            appState.profile = {
                username, zodiac: parseInt(zodiac), 
                gender: appState.selectedGender, 
                pet: appState.selectedPet, 
                risk: risk
            };

            findNewMatch();
            showAppScreen('match');
        }

        // Convert risk (1-10) into a 0-25 score for compatibility breakdown
        function riskToScore(risk) {
            // risk 1 -> ~2.5, risk 10 -> 25
            return Math.round((risk / 10) * 25);
        }

        // Calculate compatibility
        function calculateCompatibility() {
            // keep random flavor for other metrics but use real profile risk
            const gender = Math.random() > 0.5 ? 20 : 15;
            const zodiac = Math.random() > 0.5 ? 30 : 15;
            const pet = Math.random() > 0.3 ? 25 : 15;

            let riskScore;
            if (appState.profile && typeof appState.profile.risk === 'number') {
                riskScore = riskToScore(appState.profile.risk);
            } else {
                // before profile exists, show a neutral random-ish risk
                riskScore = Math.floor(Math.random() * 21) + 5;
            }

            const total = gender + zodiac + pet + riskScore;
            
            appState.compatibility = total;
            
            document.getElementById('compatScore').textContent = total + '%';
            document.getElementById('breakdown').innerHTML = `
                <div class="bg-white/20 rounded-lg p-3">
                    <div class="font-bold mb-1">‚ößÔ∏è Gender</div>
                    <div>${gender}/20</div>
                </div>
                <div class="bg-white/20 rounded-lg p-3">
                    <div class="font-bold mb-1">üîÆ Zodiac</div>
                    <div>${zodiac}/30</div>
                </div>
                <div class="bg-white/20 rounded-lg p-3">
                    <div class="font-bold mb-1">üêæ Pet</div>
                    <div>${pet}/25</div>
                </div>
                <div class="bg-white/20 rounded-lg p-3">
                    <div class="font-bold mb-1">üé≤ Risk</div>
                    <div>${riskScore}/25</div>
                </div>
            `;
        }

        function findNewMatch() {
            calculateCompatibility();
        }

        function rejectMatch() {
            calculateCompatibility();
        }

        function acceptMatch() {
            document.getElementById('bondCompat').textContent = appState.compatibility + '%';
            
            // compatibility multiplier (kept similar to your previous thresholds)
            let mult = 1.0;
            if (appState.compatibility >= 90) mult = 2.0;
            else if (appState.compatibility >= 80) mult = 1.5;
            else if (appState.compatibility >= 70) mult = 1.2;
            
            document.getElementById('bondMult').textContent = mult.toFixed(1) + 'x';
            
            // Earnings calculation using real user risk as multiplier
            const dailyInflow = 55.96;     // total daily inflow (yield + fees)
            const activePairs = 20;        // current active pairs
            const tierMult = 2.5;          // tier multiplier (keeps your gamified tiers)
            const baseShare = dailyInflow / activePairs; // baseline share per pair

            // riskMultiplier: user's risk 1-10 => 0.1 - 1.0
            const riskMultiplier = (appState.profile && appState.profile.risk) ? (appState.profile.risk / 10) : 0.5;

            // Apply multipliers: compatibility tier * global tier * (1 + riskMultiplier * 0.5)
            // risk gives up to +50% bonus at max (tweakable)
            const riskBonusFactor = 1 + (riskMultiplier * 0.5);

            const dailyEarn = baseShare * tierMult * mult * riskBonusFactor;
            
            document.getElementById('dailyRate').textContent = '$' + dailyEarn.toFixed(2);
            // totalEarned uses a placeholder bonding duration (45 days) ‚Äî you can change this
            document.getElementById('totalEarned').textContent = '$' + (dailyEarn * 45).toFixed(2);
            
            showAppScreen('bond');
        }

        console.log('‚úÖ SOLBonds loaded - All systems operational');
    </script>
</body>
</html>
